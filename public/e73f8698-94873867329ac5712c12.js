"use strict";(self.webpackChunk_landing_015_gatsby=self.webpackChunk_landing_015_gatsby||[]).push([[973],{2958:function(e,t,n){n.d(t,{i2:function(){return he},o:function(){return me},tr:function(){return ve},uP:function(){return fe},uf:function(){return _}});var r=n(6540),a=n(4164),i=n(6623),c=n(2223),o=n(8486),l=Object.defineProperty,u=Object.defineProperties,s=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(d)for(var n of d(t))m.call(t,n)&&f(e,n,t[n]);return e},v=(e,t)=>u(e,s(t)),E=(e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n};function g(e,t,n=!0){const[a,i]=r.useState(t);return r.useEffect((()=>{if(n&&i(t),"undefined"==typeof window||!e)return;const r=e.subscribe(i);return()=>r.unsubscribe()}),[e,n]),a}var b=r.createContext(void 0);function w(){return r.useContext(b)}var k=r.createContext(void 0);function C(){return r.useContext(k)}function S(e){const t=C(),n=null!=e?e:t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}var y=r.createContext(void 0);function M(){return r.useContext(y)}function R(e){var t;const n=M(),r=C(),a=null!=(t=null!=e?e:n)?t:null==r?void 0:r.participant;if(!a)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return a}var N=r.createContext(void 0);function P(){return r.useContext(N)}function x(e){const t=P(),n=null!=e?e:t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}var O=r.createContext(void 0);r.createContext(void 0);function z(...e){return(...t)=>{for(const r of e)if("function"==typeof r)try{r(...t)}catch(n){console.error(n)}}}function A(...e){const t=h({},e[0]);for(let n=1;n<e.length;n++){const r=e[n];for(const e in r){const n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=z(n,i):t[e]="className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?void 0!==i?i:n:(0,a.A)(n,i)}}return t}function V(e,t={}){var n,a;const c=R("string"==typeof e?t.participant:e.participant),o="string"==typeof e?{participant:c,source:e}:e,[l,u]=r.useState(!(!(null==(n=o.publication)?void 0:n.isMuted)&&!(null==(a=c.getTrackPublication(o.source))?void 0:a.isMuted)));return r.useEffect((()=>{const e=(0,i.Ei)(o).subscribe(u);return()=>e.unsubscribe()}),[(0,i.kW)(o)]),l}var F={connect:!0,audio:!1,video:!1};function L(e={}){const t=x(e.room),[n,a]=r.useState(t.localParticipant),[c,o]=r.useState(n.isMicrophoneEnabled),[l,u]=r.useState(n.isMicrophoneEnabled),[s,d]=r.useState(n.lastMicrophoneError),[p,m]=r.useState(n.lastCameraError),[f,h]=r.useState(n.isMicrophoneEnabled),[v,E]=r.useState(void 0),[g,b]=r.useState(void 0),w=e=>{u(e.isCameraEnabled),o(e.isMicrophoneEnabled),h(e.isScreenShareEnabled),b(e.cameraTrack),E(e.microphoneTrack),d(e.participant.lastMicrophoneError),m(e.participant.lastCameraError),a(e.participant)};return r.useEffect((()=>{const e=(0,i.s3)(t.localParticipant).subscribe(w);return()=>e.unsubscribe()}),[t]),{isMicrophoneEnabled:c,isScreenShareEnabled:f,isCameraEnabled:l,microphoneTrack:v,cameraTrack:g,lastMicrophoneError:s,lastCameraError:p,localParticipant:n}}function T({trackRef:e,onParticipantClick:t,disableSpeakingIndicator:n,htmlProps:a}){const o=S(e),l=r.useMemo((()=>{const{className:e}=(0,i.jw)();return A(a,{className:e,onClick:e=>{var n,r;if(null==(n=a.onClick)||n.call(a,e),"function"==typeof t){const e=null!=(r=o.publication)?r:o.participant.getTrackPublication(o.source);t({participant:o.participant,track:e})}}})}),[a,t,o.publication,o.source,o.participant]),u=o.participant.getTrackPublication(c.CC.Source.Microphone),s=r.useMemo((()=>({participant:o.participant,source:c.CC.Source.Microphone,publication:u})),[u,o.participant]),d=V(o),p=V(s),m=function(e){const t=R(e);return g(r.useMemo((()=>(0,i.rZ)(t)),[t]),t.isSpeaking)}(o.participant),f=function(e){if(e.publication instanceof c.HO){const t=e.publication.track;if(t){const{facingMode:e}=(0,c.EC)(t);return e}}return"undefined"}(o);return{elementProps:h({"data-lk-audio-muted":p,"data-lk-video-muted":d,"data-lk-speaking":!0!==n&&m,"data-lk-local-participant":o.participant.isLocal,"data-lk-source":o.source,"data-lk-facing-mode":f},l)}}function Z(e={}){const t=x(e.room),[n,a]=r.useState([]);return r.useEffect((()=>{const n=(0,i.Ki)(t,{additionalRoomEvents:e.updateOnlyOn}).subscribe(a);return()=>n.unsubscribe()}),[t,JSON.stringify(e.updateOnlyOn)]),n}function _(e={}){const t=Z(e),{localParticipant:n}=L(e);return r.useMemo((()=>[n,...t]),[n,t])}function I(e=[c.CC.Source.Camera,c.CC.Source.Microphone,c.CC.Source.ScreenShare,c.CC.Source.ScreenShareAudio,c.CC.Source.Unknown],t={}){const n=x(t.room),[a,o]=r.useState([]),[l,u]=r.useState([]),s=r.useMemo((()=>e.map((e=>(0,i.cy)(e)?e.source:e))),[JSON.stringify(e)]);r.useEffect((()=>{const e=(0,i.Te)(n,s,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe((({trackReferences:e,participants:t})=>{i.Rm.debug("setting track bundles",e,t),o(e),u(t)}));return()=>e.unsubscribe()}),[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]);const d=r.useMemo((()=>{if((0,i.J6)(e)){const t=function(e,t){const n=new Map;if((0,i.J6)(e)){const r=e.filter((e=>e.withPlaceholder)).map((e=>e.source));t.forEach((e=>{const t=e.getTrackPublications().map((e=>{var t;return null==(t=e.track)?void 0:t.source})).filter((e=>void 0!==e)),a=Array.from(function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(r),new Set(t)));a.length>0&&n.set(e.identity,a)}))}return n}(e,l),n=Array.from(a);return l.forEach((e=>{var r;if(t.has(e.identity)){(null!=(r=t.get(e.identity))?r:[]).forEach((t=>{if(a.find((({participant:n,publication:r})=>e.identity===n.identity&&r.source===t)))return;i.Rm.debug(`Add ${t} placeholder for participant ${e.identity}.`);const r={participant:e,source:t};n.push(r)}))}})),n}return a}),[a,l,e]);return d}var H=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),r.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),r.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),j=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),r.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),J=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},r.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),D=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),W=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),r.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),r.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),U=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),r.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),r.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),K=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),q=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("g",{opacity:.25},r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),Q=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("g",{opacity:.25},r.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),B=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),r.createElement("g",{opacity:.25},r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),X=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),$=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),r.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),G=e=>r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},r.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),Y=r.forwardRef((function(e,t){var n=e,{trackRef:a}=n,c=E(n,["trackRef"]);const o=C(),{mergedProps:l,inFocus:u}=function({trackRef:e,props:t}){const n=S(e),a=w(),{className:c}=r.useMemo((()=>(0,i.ed)()),[]),o=r.useMemo((()=>(0,i.hN)(n,null==a?void 0:a.pin.state)),[n,null==a?void 0:a.pin.state]);return{mergedProps:r.useMemo((()=>A(t,{className:c,onClick:e=>{var r,i,c,l,u;null==(r=t.onClick)||r.call(t,e),o?null==(c=null==a?void 0:(i=a.pin).dispatch)||c.call(i,{msg:"clear_pin"}):null==(u=null==a?void 0:(l=a.pin).dispatch)||u.call(l,{msg:"set_pin",trackReference:n})}})),[t,c,n,o,null==a?void 0:a.pin]),inFocus:o}}({trackRef:null!=a?a:o,props:c});return r.createElement(b.Consumer,null,(e=>void 0!==e&&r.createElement("button",h({ref:t},l),c.children?c.children:u?r.createElement(G,null):r.createElement(J,null))))}));function ee(e){return void 0!==e}function te(...e){return A(...e.filter(ee))}function ne(e,t,n){return r.Children.map(e,(a=>r.isValidElement(a)&&r.Children.only(e)?r.cloneElement(a,v(h({},t),{key:n})):a))}function re(e,t){switch(e){case c.CC.Source.Microphone:return t?r.createElement(U,null):r.createElement(W,null);case c.CC.Source.Camera:return t?r.createElement(j,null):r.createElement(H,null);case c.CC.Source.ScreenShare:return t?r.createElement($,null):r.createElement(X,null);default:return}}var ae=r.forwardRef((function(e,t){var n;const{className:a,quality:o}=function(e={}){const t=R(e.participant),{className:n,connectionQualityObserver:a}=r.useMemo((()=>(0,i.Ww)(t)),[t]);return{className:n,quality:g(a,c._N.Unknown)}}(e),l=r.useMemo((()=>v(h({},te(e,{className:a})),{"data-lk-quality":o})),[o,e,a]);return r.createElement("div",h({ref:t},l),null!=(n=e.children)?n:function(e){switch(e){case c._N.Excellent:return r.createElement(K,null);case c._N.Good:return r.createElement(q,null);case c._N.Poor:return r.createElement(Q,null);default:return r.createElement(B,null)}}(o))})),ie=r.forwardRef((function(e,t){var n=e,{participant:a}=n,c=E(n,["participant"]);const o=R(a),{className:l,infoObserver:u}=r.useMemo((()=>(0,i.y0)(o)),[o]),{identity:s,name:d}=g(u,{name:o.name,identity:o.identity,metadata:o.metadata}),p=r.useMemo((()=>te(c,{className:l,"data-lk-participant-name":d})),[c,l,d]);return r.createElement("span",h({ref:t},p),""!==d?d:s,c.children)})),ce=r.forwardRef((function(e,t){var n,a=e,{trackRef:c,show:o="always"}=a,l=E(a,["trackRef","show"]);const{className:u,isMuted:s}=function(e){var t,n;const a=S(e),{className:c,mediaMutedObserver:o}=r.useMemo((()=>(0,i.pM)(a)),[(0,i.kW)(a)]);return{isMuted:g(o,!(!(null==(t=a.publication)?void 0:t.isMuted)&&!(null==(n=a.participant.getTrackPublication(a.source))?void 0:n.isMuted))),className:c}}(c),d="always"===o||"muted"===o&&s||"unmuted"===o&&!s,p=r.useMemo((()=>te(l,{className:u})),[u,l]);return d?r.createElement("div",v(h({ref:t},p),{"data-lk-muted":s}),null!=(n=l.children)?n:re(c.source,!s)):null})),oe=e=>r.createElement("svg",h({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),r.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function le(e,t={}){var n;const[a,c]=r.useState((0,i.yE)(e)),[o,l]=r.useState(null==a?void 0:a.isMuted),[u,s]=r.useState(null==a?void 0:a.isSubscribed),[d,p]=r.useState(null==a?void 0:a.track),[m,f]=r.useState("landscape"),v=r.useRef(),{className:E,trackObserver:g}=r.useMemo((()=>(0,i.Lh)(e)),[null!=(n=e.participant.sid)?n:e.participant.identity,e.source,(0,i.zF)(e)&&e.publication.trackSid]);return r.useEffect((()=>{const e=g.subscribe((e=>{i.Rm.debug("update track",e),c(e),l(null==e?void 0:e.isMuted),s(null==e?void 0:e.isSubscribed),p(null==e?void 0:e.track)}));return()=>null==e?void 0:e.unsubscribe()}),[g]),r.useEffect((()=>{var n,r;return d&&(v.current&&d.detach(v.current),!(null==(n=t.element)?void 0:n.current)||(0,i.IX)(e.participant)&&"audio"===(null==d?void 0:d.kind)||d.attach(t.element.current)),v.current=null==(r=t.element)?void 0:r.current,()=>{v.current&&(null==d||d.detach(v.current))}}),[d,t.element]),r.useEffect((()=>{var e,t;if("number"==typeof(null==(e=null==a?void 0:a.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==a?void 0:a.dimensions)?void 0:t.height)){const e=a.dimensions.width>a.dimensions.height?"landscape":"portrait";f(e)}}),[a]),{publication:a,isMuted:o,isSubscribed:u,track:d,elementProps:te(t.props,h({className:E,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":null==a?void 0:a.source},"video"===(null==a?void 0:a.kind)&&{"data-lk-orientation":m}))}}var ue=r.forwardRef((function(e,t){var n=e,{onTrackClick:a,onClick:i,onSubscriptionStatusChanged:l,trackRef:u,manageSubscription:s}=n,d=E(n,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","manageSubscription"]);const p=S(u),m=r.useRef(null);r.useImperativeHandle(t,(()=>m.current));const f=o.BL({root:m.current}),[g]=o.Q3(f,3e3);r.useEffect((()=>{s&&p.publication instanceof c.u6&&!1===(null==g?void 0:g.isIntersecting)&&!1===(null==f?void 0:f.isIntersecting)&&p.publication.setSubscribed(!1)}),[g,p,s]),r.useEffect((()=>{s&&p.publication instanceof c.u6&&!0===(null==f?void 0:f.isIntersecting)&&p.publication.setSubscribed(!0)}),[f,p,s]);const{elementProps:b,publication:w,isSubscribed:k}=le(p,{element:m,props:d});r.useEffect((()=>{null==l||l(!!k)}),[k,l]);return r.createElement("video",v(h({ref:m},b),{muted:!0,onClick:e=>{null==i||i(e),null==a||a({participant:null==p?void 0:p.participant,track:w})}}))})),se=r.forwardRef((function(e,t){var n=e,{trackRef:a,onSubscriptionStatusChanged:o,volume:l,muted:u}=n,s=E(n,["trackRef","onSubscriptionStatusChanged","volume","muted"]);const d=S(a),p=r.useRef(null);r.useImperativeHandle(t,(()=>p.current));const{elementProps:m,isSubscribed:f,track:v,publication:g}=le(d,{element:p,props:s});return r.useEffect((()=>{null==o||o(!!f)}),[f,o]),r.useEffect((()=>{void 0!==v&&void 0!==l&&(v instanceof c.EQ?v.setVolume(l):i.Rm.warn("Volume can only be set on remote audio tracks."))}),[l,v]),r.useEffect((()=>{void 0!==g&&void 0!==u&&(g instanceof c.u6?g.setEnabled(!u):i.Rm.warn("Can only call setEnabled on remote track publications."))}),[u,g,v]),r.createElement("audio",h({ref:p},m))}));function de(e){const t=!!M();return e.participant&&!t?r.createElement(y.Provider,{value:e.participant},e.children):r.createElement(r.Fragment,null,e.children)}function pe(e){const t=!!C();return e.trackRef&&!t?r.createElement(k.Provider,{value:e.trackRef},e.children):r.createElement(r.Fragment,null,e.children)}var me=r.forwardRef((function(e,t){var n,a,o=e,{trackRef:l,children:u,onParticipantClick:s,disableSpeakingIndicator:d}=o,p=E(o,["trackRef","children","onParticipantClick","disableSpeakingIndicator"]);const m=S(l),{elementProps:f}=T({htmlProps:p,disableSpeakingIndicator:d,onParticipantClick:s,trackRef:m}),v=function(e,t={}){const n=R(e),a=x(t.room);return g(r.useMemo((()=>(0,i.bw)(a,n)),[a,n]),n instanceof c.JI?n.isE2EEEnabled:!!(null==n?void 0:n.isEncrypted))}(m.participant),b=w(),k=null==(n=function(e){const t=r.useContext(O);if(!0===e){if(t)return t;throw Error("tried to access feature context, but none is present")}return t}())?void 0:n.autoSubscription,C=r.useCallback((e=>{m.source&&!e&&b&&b.pin.dispatch&&(0,i.hN)(m,b.pin.state)&&b.pin.dispatch({msg:"clear_pin"})}),[m,b]);return r.createElement("div",h({ref:t,style:{position:"relative"}},f),r.createElement(pe,{trackRef:m},r.createElement(de,{participant:m.participant},null!=u?u:r.createElement(r.Fragment,null,!(0,i.zF)(m)||"video"!==(null==(a=m.publication)?void 0:a.kind)&&m.source!==c.CC.Source.Camera&&m.source!==c.CC.Source.ScreenShare?(0,i.zF)(m)&&r.createElement(se,{trackRef:m,onSubscriptionStatusChanged:C}):r.createElement(ue,{trackRef:m,onSubscriptionStatusChanged:C,manageSubscription:k}),r.createElement("div",{className:"lk-participant-placeholder"},r.createElement(oe,null)),r.createElement("div",{className:"lk-participant-metadata"},r.createElement("div",{className:"lk-participant-metadata-item"},m.source===c.CC.Source.Camera?r.createElement(r.Fragment,null,v&&r.createElement(D,{style:{marginRight:"0.25rem"}}),r.createElement(ce,{trackRef:{participant:m.participant,source:c.CC.Source.Microphone},show:"muted"}),r.createElement(ie,null)):r.createElement(r.Fragment,null,r.createElement(X,{style:{marginRight:"0.25rem"}}),r.createElement(ie,null,"'s screen"))),r.createElement(ae,{className:"lk-participant-metadata-item"}))),r.createElement(Y,{trackRef:m}))))}));var fe=r.forwardRef((function(e,t){const{room:n,htmlProps:a}=function(e){const t=h(h({},F),e),{token:n,serverUrl:a,options:o,room:l,connectOptions:u,connect:s,audio:d,video:p,screen:m,onConnected:f,onDisconnected:v,onError:g,onMediaDeviceFailure:b,onEncryptionError:w,simulateParticipants:k}=t,C=E(t,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","onEncryptionError","simulateParticipants"]);o&&l&&i.Rm.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[S,y]=r.useState();r.useEffect((()=>{y(null!=l?l:new c.Wv(o))}),[l]);const M=r.useMemo((()=>{const{className:e}=(0,i.bW)();return A(C,{className:e})}),[C]);return r.useEffect((()=>{if(!S)return;const e=()=>{const e=S.localParticipant;i.Rm.debug("trying to publish local tracks"),Promise.all([e.setMicrophoneEnabled(!!d,"boolean"!=typeof d?d:void 0),e.setCameraEnabled(!!p,"boolean"!=typeof p?p:void 0),e.setScreenShareEnabled(!!m,"boolean"!=typeof m?m:void 0)]).catch((e=>{i.Rm.warn(e),null==g||g(e)}))},t=e=>{const t=c.l6.getFailure(e);null==b||b(t)},n=e=>{null==w||w(e)};return S.on(c.u9.SignalConnected,e).on(c.u9.MediaDevicesError,t).on(c.u9.EncryptionError,n),()=>{S.off(c.u9.SignalConnected,e).off(c.u9.MediaDevicesError,t).off(c.u9.EncryptionError,n)}}),[S,d,p,m,g,w,b]),r.useEffect((()=>{if(S)if(k)S.simulateParticipants({participants:{count:k},publish:{audio:!0,useRealTracks:!0}});else{if(n)return a?void(s?(i.Rm.debug("connecting"),S.connect(a,n,u).catch((e=>{i.Rm.warn(e),null==g||g(e)}))):(i.Rm.debug("disconnecting because connect is false"),S.disconnect())):(i.Rm.warn("no livekit url provided"),void(null==g||g(Error("no livekit url provided"))));i.Rm.debug("no token yet")}}),[s,n,JSON.stringify(u),S,g,a,k]),r.useEffect((()=>{if(!S)return;const e=e=>{switch(e){case c.KN.Disconnected:v&&v();break;case c.KN.Connected:f&&f()}};return S.on(c.u9.ConnectionStateChanged,e),()=>{S.off(c.u9.ConnectionStateChanged,e)}}),[n,f,v,S]),r.useEffect((()=>{if(S)return()=>{i.Rm.info("disconnecting on onmount"),S.disconnect()}}),[S]),{room:S,htmlProps:M}}(e);return r.createElement("div",h({ref:t},a),n&&r.createElement(N.Provider,{value:n},r.createElement(O.Provider,{value:e.featureFlags},e.children)))}));function he(e){var t=e,{participants:n}=t,a=E(t,["participants"]);return r.createElement(r.Fragment,null,n.map((e=>r.createElement(y.Provider,{value:e,key:e.identity},ne(a.children)))))}function ve({volume:e,muted:t}){const n=I([c.CC.Source.Microphone,c.CC.Source.ScreenShareAudio,c.CC.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter((e=>!(0,i.IX)(e.participant)&&e.publication.kind===c.CC.Kind.Audio));return r.createElement("div",{style:{display:"none"}},n.map((n=>r.createElement(se,{key:(0,i.kW)(n),trackRef:n,volume:e,muted:t}))))}}}]);
//# sourceMappingURL=e73f8698-94873867329ac5712c12.js.map